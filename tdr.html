<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.552">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Project: Travel Destination Recommender</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="tdr_files/libs/clipboard/clipboard.min.js"></script>
<script src="tdr_files/libs/quarto-html/quarto.js"></script>
<script src="tdr_files/libs/quarto-html/popper.min.js"></script>
<script src="tdr_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="tdr_files/libs/quarto-html/anchor.min.js"></script>
<link href="tdr_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="tdr_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="tdr_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="tdr_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="tdr_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project: <strong>Travel Destination Recommender</strong></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ol type="1">
<li><strong>Project Overview</strong>
<ul>
<li>Introduction</li>
<li>Goals and Objectives</li>
<li>Significance of the Project</li>
</ul></li>
<li><strong>Implementation Details</strong>
<ul>
<li>Data Collection</li>
<li>Data Preprocessing</li>
<li>Feature Extraction</li>
<li>Recommendation Engine Development</li>
<li>User Interface Design</li>
</ul></li>
<li><strong>Analysis and Results</strong>
<ul>
<li>Data Analysis Techniques Used</li>
<li>Presentation of Results</li>
<li>Evaluation Metrics</li>
</ul></li>
<li><strong>Reflection and Conclusion</strong>
<ul>
<li>Challenges Faced</li>
<li>Lessons Learned</li>
<li>Overall Significance of Findings</li>
<li>Future Directions</li>
</ul></li>
<li><strong>References</strong></li>
</ol>
<section id="project-overview" class="level1">
<h1>1.Project Overview</h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">1.1 Introduction</h2>
<p>Traveling tends to be such an insightful experience. It widens the horizons and helps us drown in different cultures — even explore magnificent landscapes where beautiful memories are created. Yet, trip planning can be likened to a Herculean task with all the myriad destinations and attractions, not to mention numerous activities that come into play. This is the point at which Travel Destination Recommender takes center stage— ushering in an easy and personalized solution for any traveler who wishes to find their dream vacation spot.</p>
<p>The era we are living in now is predominantly digital. There is an excess amount of information about travels available online and this data is spread all over the web on different websites and platforms. Although it is not easy to handle such a large amount of data, this wealth also provides us with an opportunity to make use of web scraping techniques— that can collect a quality selection of information from top travel websites like TripAdvisor, Lonely Planet, and Yelp.</p>
<p>The Travel Destination Recommender does not work by magic but rather it uses web scraping to gather details of hotels and eateries alongside places, numbers of local experiences; such as the budget, interests and travel dates. It then makes a synthesis plus an analysis of this huge amount of data in order to provide a user with his or her own tailored guide. In other words, you are getting all information that is most relevant to you which you would have spent hours searching for on your own otherwise. A successful and enjoyable trip is ensured when you use this personalized guide, so remember to plan well for it.</p>
<p>Our travel destination method introduced doesn’t just save time and energy for tourists; it helps the discovery of unknown places, unexplored treasures— even more real and fulfilling experiences. The Travel Destination Recommender is a major breakthrough in the field of journey mapping: helping users find their ideal dream spot with ease and surety is no small accomplishment. This innovation promises to assist travelers not just in saving time but also making sure that they reach places worth their travel.</p>
</section>
<section id="goals-and-objectives" class="level2">
<h2 class="anchored" data-anchor-id="goals-and-objectives">1.2 Goals and Objectives</h2>
<p>Here are potential goals and objectives for our Travel Destination Recommender project:</p>
<p><strong>Goals:</strong></p>
<ol type="1">
<li><p>Create a travel advice engine that customizes ideas for places, spots, stays and native happenings according to personal likes.</p></li>
<li><p>Make use of web scraping methods to collect data from different travel websites and introduce it into one place, ensuring that our recommendation system will always be rich in data and actuality with information related to travels.</p></li>
<li><p>Let’s inspire people to discover those places off the beaten track to promote local jewels. By doing this we can help people have a more real and satisfying experience when they travel.</p></li>
<li><p>Continuously improve and refine the recommendation algorithms to provide increasingly accurate and relevant suggestions as the system accumulates more data and feedback.</p></li>
</ol>
<p><strong>Objectives:</strong></p>
<ol type="1">
<li><p>Implement efficient web scraping methods to extract information from TripAdvisor, Lonely Planet, Yelp, and other useful travel websites.</p></li>
<li><p>Develop a robust data processing pipeline to clean, structure, and integrate the collected data into a centralized database.</p></li>
<li><p>Design and implement a user-friendly interface that allows users to input their preferences, such as budget, interests, travel dates, and any specific requirements.</p></li>
<li><p>Develop personalized recommendation algorithms that leverage machine learning techniques to analyze user preferences and match them with suitable destinations, attractions, accommodations, and local experiences.</p></li>
</ol>
<p>These goals and objectives outline the key aspects of developing a robust and effective Travel Destination Recommender system, leveraging web scraping techniques and personalized recommendation algorithms to provide a seamless and enriching travel planning experience for users.</p>
</section>
<section id="significance-of-the-project" class="level2">
<h2 class="anchored" data-anchor-id="significance-of-the-project">1.3 Significance of the Project</h2>
<p>A project that has been developed to help travelers effectively plan trips tailored for them and based on their interests, budgets, and desired experiences is the Travel Destination Recommender project. Our system is able to give personalized recommendations for destinations, activities, accommodations and more through a combination of web scraping and machine learning techniques — using a vast amount of information available online from various travel sites. With this system, travelers will not only be introduced to popular attractions but they will also be shown hidden gems within local areas which they may never find otherwise.</p>
<p>The recommendation system does more than ensure a good trip is planned; it incentivise environmentally friendly and sustainable tourism that respects local cultures and environment by providing personalized information on desired activities, budget constraints, and interests. This also ensures no key details are missed, as the system takes information from various sources thereby saving time for travelers to find all necessary data themselves. It helps people discover who they are through what they experience: an innovative approach to travel planning that uncovers unique experiences at off-the-beaten-path locations. An unforgettable memory awaits those who take part in these journeys with the perfect destinations waiting for them. Ultimately, the Travel Destination Recommender completely transforms how trips are planned: bridging travelers’ preferences with destination points for a memorable and enriching journey.</p>
</section>
</section>
<section id="implementation-details" class="level1">
<h1>2.Implementation Details</h1>
<section id="data-collection" class="level2">
<h2 class="anchored" data-anchor-id="data-collection">Data Collection</h2>
<section id="step-1-choosing-travel-websites" class="level3">
<h3 class="anchored" data-anchor-id="step-1-choosing-travel-websites"><strong>Step 1: Choosing Travel Websites</strong></h3>
<ul>
<li>TripAdvisor (https://www.tripadvisor.com/)</li>
<li>Lonely Planet (https://www.lonelyplanet.com/)</li>
<li>Yelp (https://www.yelp.com/)</li>
<li>Booking.com (https://www.booking.com/)</li>
</ul>
</section>
<section id="tripadvisor-httpswww.tripadvisor.com" class="level3">
<h3 class="anchored" data-anchor-id="tripadvisor-httpswww.tripadvisor.com">TripAdvisor (https://www.tripadvisor.com/)</h3>
<p>TripAdvisor is a perfect choice because it provides extensive travel information. It hosts one of the largest collections of user reviews and ratings, allowing users to gain valuable insights on traveler experiences and preferences. In addition, the popularity based attraction rankings make it a go-to place for finding top destinations — highly recommended by users. It reaches every corner of the globe with different world-class destinations that appeal to various travel interests; hence, its wide coverage ensures it fits almost all individual preferences around the world.</p>
</section>
<section id="lonely-planet-httpswww.lonelyplanet.com" class="level3">
<h3 class="anchored" data-anchor-id="lonely-planet-httpswww.lonelyplanet.com">Lonely Planet (https://www.lonelyplanet.com/)</h3>
<p>Lonely Planet is as one of the top competitor to be scraped for travel information— given its standing for expert recommendations and carefully created guides, it’s a treasure trove of reliable insights for unique adventures. In addition to being informative, its guides go deep into cultural cues and historical narratives (which would otherwise go unnoticed), thus enriching the traveler’s cognitive map with destination-based knowledge. Moreover, their range of specialized guidebooks encompass different spheres such as food or adventure seeking along with cultural explorations; this ensures a wider appeal among varying preferences within the traveler community.</p>
</section>
<section id="yelp-httpswww.yelp.com" class="level3">
<h3 class="anchored" data-anchor-id="yelp-httpswww.yelp.com">Yelp (https://www.yelp.com/)</h3>
<p>Yelp is an amazing source when it comes to collecting travel data— especially when it comes to restaurant reviews and local business details. They pay close attention to presenting as much information about the local businesses as possible, including tourist spots and stores; thus through Yelp, travelers can get valuable information. In addition to that, through user-generated content on Yelp, travelers can obtain genuine reviews plus suggestions made by other travelers as well as locals. Moreover, using Yelp’s location-based search feature assists individuals in finding places of interest nearby: this helps in planning what activities or places to visit during the trip so that they don’t have to go far for different services they may need.</p>
</section>
<section id="booking.com-httpswww.booking.com" class="level3">
<h3 class="anchored" data-anchor-id="booking.com-httpswww.booking.com">Booking.com (https://www.booking.com/)</h3>
<p>Booking.com turns out to be a reasonable alternative for collecting data about accommodations: it is in fact widely known for its massive range of hotel and accommodation listings. As one of the major players in the field of hotel booking platforms, Booking.com presents a choice of properties that can only be described as colossal on a global scale— reaching out to all sorts of budgets and preferences. The feedback from users found on the site concerning different lodgings’ quality and guest experiences is indeed very informative, allowing travelers to wisely choose their stopovers. On top of this, the availability of numerous types of bookings through Booking.com — which also include easy-to-cancel reservations and last-minute offers — only adds to the attraction for those who value convenience and flexibility when making travel plans.</p>
</section>
<section id="step-2-identifying-data-to-scrape" class="level3">
<h3 class="anchored" data-anchor-id="step-2-identifying-data-to-scrape"><strong>Step 2: Identifying Data to Scrape</strong></h3>
</section>
<section id="attractions-sights-landmarks-museums-parks" class="level3">
<h3 class="anchored" data-anchor-id="attractions-sights-landmarks-museums-parks">Attractions (sights, landmarks, museums, parks)</h3>
<p>Collecting data on attractions typically entails collecting information on landmarks, museums, and parks in various locations. These attractions serve as prominent points of interest for travelers, providing cultural, historical, or recreational experiences. When the recommendation system filters out details regarding these attractions— such as the essential destination spots and their opening hours plus entrance fees and other tourist-related tidbits— it can provide travelers with insight into places of interest along with notable features that make them stand out.</p>
</section>
<section id="hotels-ratings-prices-amenities" class="level3">
<h3 class="anchored" data-anchor-id="hotels-ratings-prices-amenities">Hotels (ratings, prices, amenities)</h3>
<p>Hotels play a vital role in providing travelers with a place to stay during their journeys as a part of the travel planning process. When scraping hotels’ data, it involves getting details on their ratings, prices and what they offer. Guest reviews and feedback can be very revealing about the quality standards that hotel management upholds, allowing other potential guests to make an informed decision on whether it would be suitable for them or not. In addition, price data empowers travelers to make comparisons among various options based on their financial limitations; while amenities such as Wi-Fi, breakfast and parking add to user experience, making it more pleasurable.</p>
</section>
<section id="restaurants-ratings-cuisines-prices" class="level3">
<h3 class="anchored" data-anchor-id="restaurants-ratings-cuisines-prices">Restaurants (ratings, cuisines, prices)</h3>
<p>Restaurants have a significant impact on the way we enjoy our travels as they introduce us to flavors that are distinctive to where we are and what we can only find there. When scraping data for restaurants, one must gather details regarding their ratings and food along with prices— user reviews and critics offer insight into the quality of food, service, and ambiance which assists travelers in selecting an eatery that meets their likings. In addition to menu information based on prices (or cost), such reports aim at providing a wide range of options for travelers both in taste preference and budget consideration.</p>
</section>
<section id="local-experiences-tours-activities-events" class="level3">
<h3 class="anchored" data-anchor-id="local-experiences-tours-activities-events">Local Experiences (tours, activities, events)</h3>
<p>Local experiences encompass a diverse array of tours, activities, and events that provide travelers with immersive and authentic cultural experiences. The recommendation system, based on details obtained from these local experiences (including guided tours, outdoor activities, etc.), allows users to select activities that align with their interests and preferences.</p>
</section>
<section id="user-preferences-budget-interests-travel-dates" class="level3">
<h3 class="anchored" data-anchor-id="user-preferences-budget-interests-travel-dates">User Preferences (budget, interests, travel dates)</h3>
<p>The User preferences serve as the foundation of personalized travel suggestions, steering the decision of places and events that would appeal most to an individual based on their needs and likings. Instead of scraping data about user preferences, get to know more about a person by understanding budget limitations — to gather information on travel interests — including specific details like what time they would prefer to go hiking or if they have a penchant for historical explorations or culinary quests, along with travel dates. The plan should be able to make a tailored recommendation based on user’s budget constraints plus the user’s preference on specific interest areas and even their preferred dates for travel: this way, each recommended plan is uniquely customized to ensure every journey is enjoyable and suits individual users.</p>
</section>
<section id="step-3-setting-up-our-environment" class="level3">
<h3 class="anchored" data-anchor-id="step-3-setting-up-our-environment"><strong>Step 3: Setting Up Our Environment</strong></h3>
</section>
<section id="instant-data-scraper-web-extension" class="level3">
<h3 class="anchored" data-anchor-id="instant-data-scraper-web-extension">Instant Data Scraper Web Extension</h3>
<p>We chose a different path for this project— we didn’t follow the common roads of BeautifulSoup and requests when it came to web scraping libraries. Instead, we took the Instant Data Scraper web extension. This is no ordinary scraper; it’s a browser extension standing tall for both Chrome and Firefox. Its sole purpose lies in effortlessly pulling data off web pages. How? y installing the extension, users gain access to a user-friendly interface that allows them to select and extract data directly from websites without writing code. This approach simplifies the process of data extraction, making it accessible to individuals without extensive programming knowledge. Additionally, the extension provides features for exporting scraped data in various formats, such as CSV or JSON, for further analysis and data processing.</p>
</section>
<section id="octoparse" class="level3">
<h3 class="anchored" data-anchor-id="octoparse">Octoparse</h3>
<p>Octoparse is a tool — alongside the Instant Data Scraper web extension — was also utilized as a web scraping instrument for this particular endeavor. Described as robust and workable, Octoparse is a software designed for web scraping that lets users pull data off websites through a visual ‘point-and-click’ mechanism. Using Octoparse, users can achieve their scraping tasks by simply navigating through the web pages and choosing what they want to extract. Among its feature sets are automatic IP rotation plus export scheduling (to facilitate large-scale scraping projects), cloud-based extraction. It’s competent at handling dynamic JavaScript-rendered web pages; hence its compatibility with different websites and sources of data is assuredly high.</p>
</section>
<section id="step-4-start-scraping" class="level3">
<h3 class="anchored" data-anchor-id="step-4-start-scraping"><strong>Step 4: Start Scraping</strong></h3>
<p>After the establishment of our environment through tools for web scraping like Instant Data Scraper and Octoparse, we are in a position to start the process of data scraping from every individual website selected. Instead of crafting scripts, let us employ the user-friendly interfaces offered by these tools so that we can easily draw out data without any hustles.</p>
</section>
<section id="steps-with-instant-data-scraper" class="level3">
<h3 class="anchored" data-anchor-id="steps-with-instant-data-scraper">Steps with Instant Data Scraper:</h3>
<ol type="1">
<li>Open the Instant Data Scraper web extension using browser.</li>
<li>Visit any website we want to scrape information from— for instance, TripAdvisor or Lonely Planet.</li>
<li>Just have to pick what we need from the data by simply clicking on the screen. This can be any information worth scraping like the major tourist attractions in a particular city.</li>
<li>We need to set up how the scraping will work, this includes how the tool should deal with pagination and also what options are available for exporting data.</li>
<li>At this point, we’ll launch the scraper which will go to the website and bring back only the specific data we are interested in.</li>
<li>Once the extraction is completed, take out all the scraped data in a format that suits your analysis needs such as CSV or JSON.</li>
</ol>
</section>
<section id="using-octoparse" class="level3">
<h3 class="anchored" data-anchor-id="using-octoparse">Using Octoparse:</h3>
<p>The initial step is to run the Octoparse software on your computer. Subsequently, create a new scraping task and provide the URL of the website we intend to scrape. Through Octoparse’s visual workflow builder, we can establish various extraction steps — including but not limited to wandering onto particular pages and marking certain data components. Consider setting advanced configurations like automatic IP rotation and scheduling for data export based on your requirements. Then initiate the scraping task so that we can pull out information from the target site. Utilize the following steps to finalize the extracted data: 1. Evaluate the data directly on the Octoparse interface. 2. Save the scraped data in a format convenient for our use.</p>
<p>With these web scraping tools, we can collect information from various sites with ease; no need for intricate codes. This method simplifies the scraping process, letting us concentrate on tweaking and delving into details of what we have gathered for our travel spot suggester.</p>
</section>
<section id="step-5-refining-scripts" class="level3">
<h3 class="anchored" data-anchor-id="step-5-refining-scripts"><strong>Step 5: Refining Scripts</strong></h3>
<ul>
<li>Refine scripts to extract specific data like hotel details, restaurant reviews, and activity information.</li>
<li>Handle pagination for websites with multiple pages of results.</li>
<li>Adapt scripts to website structure changes.</li>
</ul>
</section>
</section>
<section id="data-preprocessing" class="level2">
<h2 class="anchored" data-anchor-id="data-preprocessing">Data Preprocessing</h2>
<div id="cell-22" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bertopic <span class="im">import</span> BERTopic</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> stopwords</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.tokenize <span class="im">import</span> word_tokenize</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bertopic <span class="im">import</span> BERTopic</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> nltk.corpus <span class="im">import</span> stopwords</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> string</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> nltk</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>nltk.download(<span class="st">'punkt'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="must-see-attractions" class="level3">
<h3 class="anchored" data-anchor-id="must-see-attractions">Must-See Attractions</h3>
<section id="berlin" class="level4">
<h4 class="anchored" data-anchor-id="berlin">Berlin</h4>
<div id="cell-25" class="cell panel-input card bg-light p-2" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>berlin <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/must-see-attractions/berlin_attractions - Sheet1.csv'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>berlin.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="bremen" class="level4">
<h4 class="anchored" data-anchor-id="bremen">Bremen</h4>
<div id="cell-27" class="cell panel-input card bg-light p-2" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>bremen <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/must-see-attractions/bremen_attractions - Sheet1.csv'</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>bremen.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="hamburg" class="level4">
<h4 class="anchored" data-anchor-id="hamburg">Hamburg</h4>
<div id="cell-29" class="cell panel-input card bg-light p-2" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>hamburg <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/must-see-attractions/hamburg_attractions - Sheet1.csv'</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>hamburg.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="munich" class="level4">
<h4 class="anchored" data-anchor-id="munich">Munich</h4>
<div id="cell-31" class="cell panel-input card bg-light p-2" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>munich <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/must-see-attractions/munich_attractions - Sheet1.csv'</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>munich.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="combined-dataset" class="level4">
<h4 class="anchored" data-anchor-id="combined-dataset">Combined dataset</h4>
<div id="cell-33" class="cell panel-input card bg-light p-2" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Concatenate the three dataframes along the rows (axis=0)</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>germany_df <span class="op">=</span> pd.concat([bremen, berlin, hamburg,munich], ignore_index<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Save the combined dataframe to a new CSV file</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>germany_df.to_csv(<span class="st">'combined_dataset.csv'</span>, index<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>filtered_df <span class="op">=</span> germany_df[<span class="op">~</span>germany_df[<span class="st">'type'</span>].isin([<span class="st">'to_stay'</span>, <span class="st">'to_eat'</span>])]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>filtered_df.head()</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">website1</th>
<th data-quarto-table-cell-role="th">website2</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">city</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://lonelyplanetstatic.imgix.net/marketing...</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>Herrenhäuser Gärten</td>
<td>Hanover</td>
<td>Proof that Hanover is not all buttoned-down bu...</td>
<td>must_see</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://lp-cms-production.imgix.net/2019-06/2a...</td>
<td>https://www.lonelyplanet.com/germany/bergen-be...</td>
<td>Gedenkstätte Bergen-Belsen</td>
<td>Lower Saxony &amp; Bremen</td>
<td>The Nazi-built camp at Bergen-Belsen began its...</td>
<td>must_see</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://lonelyplanetstatic.imgix.net/marketing...</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>Schloss Marienburg</td>
<td>Lower Saxony &amp; Bremen</td>
<td>Perched grandly above the Leine River, the neo...</td>
<td>must_see</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://lonelyplanetstatic.imgix.net/marketing...</td>
<td>https://www.lonelyplanet.com/germany/bremen-ci...</td>
<td>Denkort Bunker Valentin</td>
<td>Bremen City</td>
<td>In 1943, the Nazis started construction of a m...</td>
<td>must_see</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://lonelyplanetstatic.imgix.net/marketing...</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>Autostadt</td>
<td>Lower Saxony &amp; Bremen</td>
<td>A hit with car buffs of all ages, Autostadt is...</td>
<td>must_see</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
</section>
<section id="tours" class="level3">
<h3 class="anchored" data-anchor-id="tours">Tours</h3>
<section id="tours-in-bremen" class="level4">
<h4 class="anchored" data-anchor-id="tours-in-bremen">Tours in Bremen</h4>
<div id="cell-36" class="cell panel-input card bg-light p-2" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>tour_bremen <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/tours/bremen_tour - Sheet1.csv'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>tour_bremen.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tours-in-berlin" class="level4">
<h4 class="anchored" data-anchor-id="tours-in-berlin">Tours in Berlin</h4>
<div id="cell-38" class="cell panel-input card bg-light p-2" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>tour_berlin <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/tours/berlin_tour - Sheet1.csv'</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>tour_berlin.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tours-in-hamburg" class="level4">
<h4 class="anchored" data-anchor-id="tours-in-hamburg">Tours in Hamburg</h4>
<div id="cell-40" class="cell panel-input card bg-light p-2" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>tour_hamburg <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/tours/hamburg_tour - Sheet1.csv'</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>tour_hamburg.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tours-in-munich" class="level4">
<h4 class="anchored" data-anchor-id="tours-in-munich">Tours in Munich</h4>
<div id="cell-42" class="cell panel-input card bg-light p-2" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Load data from CSV file</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>tour_munich <span class="op">=</span> pd.read_csv(<span class="st">'/Users/emredeveci/Desktop/TDR/tours/munich_tour - Sheet1.csv'</span>)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>tour_munich.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="combined-tours-dataset" class="level4">
<h4 class="anchored" data-anchor-id="combined-tours-dataset">Combined Tours Dataset</h4>
<div id="cell-56" class="cell panel-input card bg-light p-2" data-execution_count="23">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>all_tours.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="23">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">website</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">score</th>
<th data-quarto-table-cell-role="th">reviews</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">duration</th>
<th data-quarto-table-cell-role="th">comment1</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">group</th>
<th data-quarto-table-cell-role="th">city</th>
<th data-quarto-table-cell-role="th">price_category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>The Local Tour of Hamburg Historic Centre</td>
<td>5.0</td>
<td>784.0</td>
<td>Historical Tours</td>
<td>2 hours</td>
<td>Pay-What-You-Want tour with booking fee!\n\nWi...</td>
<td>3.0</td>
<td>per adult</td>
<td>hamburg</td>
<td>Low</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Private Small-Group Hamburg City Tour with a L...</td>
<td>5.0</td>
<td>178.0</td>
<td>Historical Tours</td>
<td>3 hours</td>
<td>Welcome to our beloved Hamburg.\nI´m a former ...</td>
<td>264.0</td>
<td>per group</td>
<td>hamburg</td>
<td>Moderate</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Hop-on hop-off on the water with the Maritime ...</td>
<td>4.0</td>
<td>63.0</td>
<td>Day Cruises</td>
<td>1–2 hours</td>
<td>A sightseeing harbor cruise with the Maritime ...</td>
<td>22.0</td>
<td>per adult</td>
<td>hamburg</td>
<td>Low</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Hamburg Dungeon Admission Ticket</td>
<td>4.0</td>
<td>187.0</td>
<td>Historical Tours</td>
<td>1–2 hours</td>
<td>Experience 600 years of dark history - if you ...</td>
<td>31.0</td>
<td>per adult</td>
<td>hamburg</td>
<td>Low</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Hamburg 2-hour harbor tour on the beautiful Elbe</td>
<td>3.5</td>
<td>21.0</td>
<td>Historical Tours</td>
<td>2 hours</td>
<td>We offer an extensive Hamburg XXL harbor tour ...</td>
<td>38.0</td>
<td>per adult</td>
<td>hamburg</td>
<td>Low</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-57" class="cell panel-input card bg-light p-2" data-execution_count="24">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(price_counts)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>price_category
Moderate    788
High        552
Low         342
Name: count, dtype: int64</code></pre>
</div>
</div>
</section>
</section>
<section id="restaurant-data" class="level3">
<h3 class="anchored" data-anchor-id="restaurant-data">Restaurant Data</h3>
<div id="cell-59" class="cell panel-input card bg-light p-2" data-execution_count="25">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>filtered_rest_df <span class="op">=</span> germany_df[germany_df[<span class="st">'type'</span>].isin([<span class="st">'to_eat'</span>])]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>filtered_rest_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">website1</th>
<th data-quarto-table-cell-role="th">website2</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">city</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">115</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>Al-Dar</td>
<td>Hanover</td>
<td>This popular Syrian restaurant a stone's throw...</td>
<td>to_eat</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">116</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>Vietal Kitchen</td>
<td>Hanover</td>
<td>Pale-green louvres and bamboo lanterns set a F...</td>
<td>to_eat</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">117</td>
<td>https://www.lonelyplanet.com/germany/hildeshei...</td>
<td>https://www.lonelyplanet.com/germany/hildeshei...</td>
<td>Schlegels Weinstuben</td>
<td>Lower Saxony &amp; Bremen</td>
<td>The lopsided walls of this rose-covered, 500-y...</td>
<td>to_eat</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">118</td>
<td>https://www.lonelyplanet.com/germany/norderney...</td>
<td>https://www.lonelyplanet.com/germany/norderney...</td>
<td>Seesteg</td>
<td>East Frisian Islands</td>
<td>Nordeney's Michelin-starred restaurant offers ...</td>
<td>to_eat</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">119</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>https://www.lonelyplanet.com/germany/lower-sax...</td>
<td>Basil</td>
<td>Hanover</td>
<td>These former stables to the north of town now ...</td>
<td>to_eat</td>
<td>Lower Saxony &amp; Bremen</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="hotel-dataset" class="level3">
<h3 class="anchored" data-anchor-id="hotel-dataset">Hotel Dataset</h3>
<div id="cell-72" class="cell panel-input card bg-light p-2" data-execution_count="37">
<div class="cell-output cell-output-display" data-execution_count="37">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">website</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">distance</th>
<th data-quarto-table-cell-role="th">score</th>
<th data-quarto-table-cell-role="th">reviews</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">type2</th>
<th data-quarto-table-cell-role="th">day</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">city</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>https://www.booking.com/hotel/de/hapimag-resor...</td>
<td>Hapimag Ferienwohnungen München</td>
<td>Ludwigsvorstadt, Munich</td>
<td>Show on map</td>
<td>8.3</td>
<td>317.0</td>
<td>2</td>
<td>3 beds (2 sofa beds, 1 large double)</td>
<td>1 night, 1 adult</td>
<td>265.0</td>
<td>munich</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>https://www.booking.com/hotel/de/ausbildungsho...</td>
<td>Ausbildungshotel St. Theresia</td>
<td>Neuhausen - Nymphenburg, Munich</td>
<td>Show on map</td>
<td>8.3</td>
<td>1538.0</td>
<td>2</td>
<td>1 single bed</td>
<td>1 night, 1 adult</td>
<td>52.0</td>
<td>munich</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>https://www.booking.com/hotel/de/edenwolff.en-...</td>
<td>Eden Hotel Wolff</td>
<td>Maxvorstadt, Munich</td>
<td>Show on map</td>
<td>8.2</td>
<td>4883.0</td>
<td>2</td>
<td>1 single bed</td>
<td>1 night, 1 adult</td>
<td>122.0</td>
<td>munich</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>https://www.booking.com/hotel/de/motel-one-mun...</td>
<td>Motel One München-Campus</td>
<td>Obergiesing - Fasangarten, Munich</td>
<td>Show on map</td>
<td>8.4</td>
<td>6591.0</td>
<td>2</td>
<td>1 double bed</td>
<td>1 night, 1 adult</td>
<td>79.0</td>
<td>munich</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>https://www.booking.com/hotel/de/hotelpreysing...</td>
<td>JAMS Music Hotel Munich</td>
<td>Au-Haidhausen, Munich</td>
<td>Show on map</td>
<td>8.3</td>
<td>1763.0</td>
<td>2</td>
<td>1 double bed</td>
<td>1 night, 1 adult</td>
<td>176.0</td>
<td>munich</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-73" class="cell panel-input card bg-light p-2" data-execution_count="38">
<div class="cell-output cell-output-stdout">
<pre><code>Number of hotels:
- Under 100 euro: 416
- Between 100 and 500 euro: 751
- Over 500 euro: 8</code></pre>
</div>
</div>
<div id="cell-74" class="cell panel-input card bg-light p-2" data-execution_count="39">
<div class="cell-output cell-output-stdout">
<pre><code>Number of hotels under 100 euro in each city:
city
berlin      97
bremen      60
hamburg     29
munich     230
dtype: int64</code></pre>
</div>
</div>
</section>
</section>
<section id="recommendation-engine-development" class="level2">
<h2 class="anchored" data-anchor-id="recommendation-engine-development">Recommendation Engine Development</h2>
<section id="city-recommendation-engine" class="level3">
<h3 class="anchored" data-anchor-id="city-recommendation-engine">City Recommendation Engine</h3>
<p>Choosing the topic</p>
<div id="cell-81" class="cell panel-input card bg-light p-2" data-execution_count="42">
<div class="cell-output cell-output-display" data-execution_count="42">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Topic</th>
<th data-quarto-table-cell-role="th">Count</th>
<th data-quarto-table-cell-role="th">Name</th>
<th data-quarto-table-cell-role="th">Representation</th>
<th data-quarto-table-cell-role="th">Representative_Docs</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>-1</td>
<td>515</td>
<td>-1_berlin_one_the_museum</td>
<td>[berlin, one, the, museum, building, st, germa...</td>
<td>[former print shop nonprofit museum one large...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0</td>
<td>13</td>
<td>0_sand_beach_island_sky</td>
<td>[sand, beach, island, sky, overlooking, hotel,...</td>
<td>[hamburg original beach bar must primo beer b...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1</td>
<td>20</td>
<td>1_cinema_movies_arthouse_films</td>
<td>[cinema, movies, arthouse, films, screens, ind...</td>
<td>[petite singlescreen flick palace presented mo...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>2</td>
<td>20</td>
<td>2_team_football_sporting_games</td>
<td>[team, football, sporting, games, events, bund...</td>
<td>[fans sv hamburg city successful football tea...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>3</td>
<td>11</td>
<td>3_wwii_bombing_reconstructed_church</td>
<td>[wwii, bombing, reconstructed, church, 1943, r...</td>
<td>[former gothic church dating 1347 never repa...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>4</td>
<td>24</td>
<td>4_theatre_shows_stages_musical</td>
<td>[theatre, shows, stages, musical, contemporary...</td>
<td>[tipi stages yearround program professional ca...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>5</td>
<td>10</td>
<td>5_opera_bertolt_langhoff_brecht</td>
<td>[opera, bertolt, langhoff, brecht, staatsoper,...</td>
<td>[berlin ’ opulent state opera commissioned roy...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>6</td>
<td>47</td>
<td>6_djs_club_dance_hiphop</td>
<td>[djs, club, dance, hiphop, parties, crowd, and...</td>
<td>[part livemusic venue part club glocksee eve...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>7</td>
<td>24</td>
<td>7_jazz_club_blues_concerts</td>
<td>[jazz, club, blues, concerts, music, venue, ho...</td>
<td>[one berlin oldest live music clubs quasimodo...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>8</td>
<td>13</td>
<td>8_stalls_saturday_leafy_market</td>
<td>[stalls, saturday, leafy, market, wednesday, s...</td>
<td>[wednesday saturday morning luck hohum winter...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>9</td>
<td>11</td>
<td>9_shopping_mall_supermarket_shops</td>
<td>[shopping, mall, supermarket, shops, shoppers,...</td>
<td>[basic shopping cravings met attractive indoor...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>10</td>
<td>15</td>
<td>10_chocolate_fresh_exotic_varieties</td>
<td>[chocolate, fresh, exotic, varieties, gourmet,...</td>
<td>[arctic sea salt wild sumac green chai among ...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>11</td>
<td>21</td>
<td>11_coffee_cafe_cakes_roasted</td>
<td>[coffee, cafe, cakes, roasted, beans, java, co...</td>
<td>[pioneers thirdwave coffee berlin yumi kiduk ...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>12</td>
<td>78</td>
<td>12_bar_cocktail_lit_wine</td>
<td>[bar, cocktail, lit, wine, beer, drinks, cafe,...</td>
<td>[bad boy bar cafe day breakfast 2pm homemad...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>13</td>
<td>13</td>
<td>13_bags_shop_handmade_yet</td>
<td>[bags, shop, handmade, yet, gifts, affordable,...</td>
<td>[kerstin jannsen designing sturdy nononsense ...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>14</td>
<td>39</td>
<td>14_women_label_fashion_men</td>
<td>[women, label, fashion, men, fashions, designs...</td>
<td>[berlinbased uvr label designs urban fashions ...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>15</td>
<td>40</td>
<td>15_sea_maritime_zoo_ship</td>
<td>[sea, maritime, zoo, ship, museum, hamburg, ki...</td>
<td>[decommissioned lightshipturnedmuseum anchored...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>16</td>
<td>34</td>
<td>16_berlin_wall_war_east</td>
<td>[berlin, wall, war, east, debris, border, 1990...</td>
<td>[east german border guards machine guns ready...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>17</td>
<td>36</td>
<td>17_memorial_nazi_jewish_cemetery</td>
<td>[memorial, nazi, jewish, cemetery, victims, na...</td>
<td>[heart treptower park gargantuan soviet war m...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>18</td>
<td>16</td>
<td>18_rulers_german_palace_prussian</td>
<td>[rulers, german, palace, prussian, built, kirc...</td>
<td>[18thcentury country estate frilly neorenaiss...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">20</td>
<td>19</td>
<td>35</td>
<td>19_garden_beer_park_munich</td>
<td>[garden, beer, park, munich, botanical, altsta...</td>
<td>[one hard ignore english garden location pedig...</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">21</td>
<td>20</td>
<td>39</td>
<td>20_art_artist_gallery_artists</td>
<td>[art, artist, gallery, artists, contemporary, ...</td>
<td>[instigated 1986 feminist artist art historian...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">22</td>
<td>21</td>
<td>30</td>
<td>21_museum_greek_history_middle</td>
<td>[museum, greek, history, middle, ages, engagin...</td>
<td>[museum chronicles area ’ history middle ages ...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="cell-82" class="cell panel-input card bg-light p-2" data-execution_count="43">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Prompt the user to choose a topic</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>chosen_topic_id <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">"Please choose a topic ID from the list above: "</span>))</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the chosen topic and associated descriptions</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Chosen Topic </span><span class="sc">{</span>chosen_topic_id<span class="sc">}</span><span class="ss"> and Associated Descriptions:"</span>)</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>chosen_topic_descriptions <span class="op">=</span> filtered_df[filtered_df[<span class="st">'topic'</span>] <span class="op">==</span> chosen_topic_id][<span class="st">'description'</span>]</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> description <span class="kw">in</span> chosen_topic_descriptions:</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(description)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The code allows the user to select a topic by entering a topic ID, and then it retrieves and displays the corresponding descriptions for that chosen topic from a DataFrame.</p>
<div id="cell-84" class="cell panel-input card bg-light p-2" data-execution_count="44">
<div class="cell-output cell-output-display">
<pre><code>Unable to display output for mime type(s): application/vnd.plotly.v1+json</code></pre>
</div>
</div>
<div id="cell-87" class="cell panel-input card bg-light p-2" data-execution_count="47">
<div class="cell-output cell-output-stdout">
<pre><code>The most relevant city for 4 is Munich with a count of 860.</code></pre>
</div>
</div>
<div id="cell-88" class="cell panel-input card bg-light p-2" data-execution_count="48">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>most_common_city</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>'Munich'</code></pre>
</div>
</div>
<div id="cell-89" class="cell panel-input card bg-light p-2" data-execution_count="49">
<div class="cell-output cell-output-stdout">
<pre><code>The most relevant city for Topic -1 is Munich with a count of 15136.
The most relevant city for Topic 0 is Kreuzberg with a count of 182.
The most relevant city for Topic 1 is Berlin with a count of 1312.
The most relevant city for Topic 2 is Munich with a count of 1376.
The most relevant city for Topic 3 is Lower Saxony &amp; Bremen with a count of 212.
The most relevant city for Topic 4 is Munich with a count of 860.
The most relevant city for Topic 5 is Berlin with a count of 328.
The most relevant city for Topic 6 is Munich with a count of 1204.
The most relevant city for Topic 7 is Munich with a count of 688.
The most relevant city for Topic 8 is Hamburg with a count of 219.
The most relevant city for Topic 9 is Munich with a count of 344.
The most relevant city for Topic 10 is Berlin with a count of 328.
The most relevant city for Topic 11 is Berlin with a count of 656.
The most relevant city for Topic 12 is Berlin with a count of 2788.
The most relevant city for Topic 13 is Hamburg with a count of 292.
The most relevant city for Topic 14 is Berlin with a count of 1804.
The most relevant city for Topic 15 is Munich with a count of 688.
The most relevant city for Topic 16 is Berlin with a count of 1312.
The most relevant city for Topic 17 is Berlin with a count of 1804.
The most relevant city for Topic 18 is Munich with a count of 860.
The most relevant city for Topic 19 is Munich with a count of 2924.
The most relevant city for Topic 20 is Berlin with a count of 1148.
The most relevant city for Topic 21 is Munich with a count of 1376.
No data for Topic 22.
No data for Topic 23.</code></pre>
</div>
</div>
<p>This series of statements are presenting the most relevant cities for different topics, determined based on the highest number of associated or relevant items.</p>
<div id="cell-92" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>most_common_city</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="51">
<pre><code>'munich'</code></pre>
</div>
</div>
</section>
<section id="tour-recommender-engine" class="level3">
<h3 class="anchored" data-anchor-id="tour-recommender-engine">Tour Recommender Engine</h3>
<div id="cell-96" class="cell panel-input card bg-light p-2" data-execution_count="54">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Now, let's convert 'score' to float</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> extract_score(score_str):</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="bu">float</span>(score_str.split()[<span class="dv">0</span>])  <span class="co"># Take the first part of the string, convert to float</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">None</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the function to 'score' column</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>all_tours[<span class="st">'score'</span>] <span class="op">=</span> all_tours[<span class="st">'score'</span>].<span class="bu">apply</span>(extract_score)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div id="cell-98" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ask the user for their budget for a 1-week trip</span></span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>budget <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">"Please enter your budget for a 1-week trip: "</span>))</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"</span><span class="ch">\n</span><span class="ss">Your budget for a 1-week trip is </span><span class="sc">{</span>budget<span class="sc">}</span><span class="ss">€."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Your budget for a 1-week trip is 200.0€.</code></pre>
</div>
</div>
<p>When this code runs, it will first ask the user to enter their budget for a 1-week trip, and then it will print a message displaying the budget amount entered by the user, along with the currency symbol.</p>
<div id="cell-100" class="cell panel-input card bg-light p-2" data-execution_count="57">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example usage</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>top_tours <span class="op">=</span> recommend_tours(budget)</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Top 5 Tours in  based on Budget:"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>top_tours.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Top 5 Tours in  based on Budget:</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="57">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">website</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">score</th>
<th data-quarto-table-cell-role="th">reviews</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">duration</th>
<th data-quarto-table-cell-role="th">comment1</th>
<th data-quarto-table-cell-role="th">price</th>
<th data-quarto-table-cell-role="th">group</th>
<th data-quarto-table-cell-role="th">city</th>
<th data-quarto-table-cell-role="th">price_category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1051</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Third Reich Walking Tour Munich</td>
<td>5.0</td>
<td>NaN</td>
<td>Historical Tours</td>
<td>2–3 hours</td>
<td>As birthplace of the Nazi Party and home of it...</td>
<td>35.0</td>
<td>per adult</td>
<td>munich</td>
<td>Low</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1061</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Munich Sightseeing Guided Bike Tour</td>
<td>5.0</td>
<td>527.0</td>
<td>Historical Tours</td>
<td>3–4 hours</td>
<td>See more of Munich in a short amount of time t...</td>
<td>44.0</td>
<td>per adult</td>
<td>munich</td>
<td>Low</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1074</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Full-Day Dachau Concentration Camp Memorial Si...</td>
<td>5.0</td>
<td>285.0</td>
<td>Public Transportation Tours</td>
<td>6 hours</td>
<td>Dachau Concentration Camp Memorial Site is a p...</td>
<td>50.0</td>
<td>per adult</td>
<td>munich</td>
<td>Low</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1078</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Dachau Small-Group Half-Day Tour from Munich B...</td>
<td>5.0</td>
<td>224.0</td>
<td>Historical Tours</td>
<td>5 hours</td>
<td>Pay respects to the innocent victims of Hitler...</td>
<td>50.0</td>
<td>per adult</td>
<td>munich</td>
<td>Low</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1083</td>
<td>https://www.tripadvisor.com/AttractionProductR...</td>
<td>Dachau Tour from Munich</td>
<td>5.0</td>
<td>442.0</td>
<td>Historical Tours</td>
<td>5 hours</td>
<td>All of our guides are officially authorized to...</td>
<td>50.0</td>
<td>per adult</td>
<td>munich</td>
<td>Low</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="to-do-recommendation-engine" class="level3">
<h3 class="anchored" data-anchor-id="to-do-recommendation-engine">To-do Recommendation Engine</h3>
<div id="cell-103" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>most_common_city</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="59">
<pre><code>'Munich'</code></pre>
</div>
</div>
<div id="cell-105" class="cell panel-input card bg-light p-2" data-execution_count="61">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The best 5 things to do in </span><span class="sc">{</span>most_common_city<span class="sc">}</span><span class="ss"> for Topic 3 are:"</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>top_5_things_to_do.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The best 5 things to do in Munich for Topic 3 are:</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="61">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">website1</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">city</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">1654</td>
<td>https://www.lonelyplanet.com/germany/munich/al...</td>
<td>Bayerisches Staatsschauspiel</td>
<td>Munich</td>
<td>This leading ensemble has gone alternative in ...</td>
<td>to_entertain</td>
<td>Munich</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1655</td>
<td>https://www.lonelyplanet.com/germany/munich/al...</td>
<td>Münchner Kammerspiele</td>
<td>Munich</td>
<td>A venerable theatre with an edgy bent, the Kam...</td>
<td>to_entertain</td>
<td>Munich</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1663</td>
<td>https://www.lonelyplanet.com/germany/munich/ma...</td>
<td>Münchner Theater für Kinder</td>
<td>Munich</td>
<td>At the Münchner Theater für Kinder budding the...</td>
<td>to_entertain</td>
<td>Munich</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1664</td>
<td>https://www.lonelyplanet.com/germany/munich/al...</td>
<td>Staatstheater am Gärtnerplatz</td>
<td>Munich</td>
<td>Spruced up to southern German standards for it...</td>
<td>to_entertain</td>
<td>Munich</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1667</td>
<td>https://www.lonelyplanet.com/germany/munich/ha...</td>
<td>GOP Varieté Theater</td>
<td>Munich</td>
<td>Hosts a real jumble of acts and shows, from ma...</td>
<td>to_entertain</td>
<td>Munich</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="restaurant-recommendation" class="level3">
<h3 class="anchored" data-anchor-id="restaurant-recommendation">Restaurant Recommendation</h3>
<div id="cell-111" class="cell panel-input card bg-light p-2" data-execution_count="66">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter the DataFrame for Topic 3</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>topic_3_cities <span class="op">=</span> scatter_df[scatter_df[<span class="st">'Topic'</span>] <span class="op">==</span> <span class="dv">2</span>]</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the occurrences of each city for Topic 3</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>city_counts <span class="op">=</span> topic_3_cities[<span class="st">'location'</span>].value_counts()</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Get the city with the highest count</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>most_common_city <span class="op">=</span> city_counts.idxmax()</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>count_of_most_common_city <span class="op">=</span> city_counts.<span class="bu">max</span>()</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f"The most relevant city for Topic 3 is </span><span class="sc">{</span>most_common_city<span class="sc">}</span><span class="ss"> with a count of </span><span class="sc">{</span>count_of_most_common_city<span class="sc">}</span><span class="ss">."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>The most relevant city for Topic 3 is Munich with a count of 450.</code></pre>
</div>
</div>
<div id="cell-115" class="cell panel-input card bg-light p-2" data-execution_count="70">
<div class="cell-output cell-output-stdout">
<pre><code>The best restaurants to go in Berlin for Topic 3 are:</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="70">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">website1</th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">location</th>
<th data-quarto-table-cell-role="th">description</th>
<th data-quarto-table-cell-role="th">type</th>
<th data-quarto-table-cell-role="th">city</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">656</td>
<td>https://lonelyplanetstatic.imgix.net/marketing...</td>
<td>Valladares Feinkost</td>
<td>Berlin</td>
<td>Beautifully situated on the quiet Stephanplatz...</td>
<td>to_eat</td>
<td>Berlin</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">807</td>
<td>https://lonelyplanetstatic.imgix.net/marketing...</td>
<td>geh Veg</td>
<td>Berlin</td>
<td>Showing off the simple side of vegan eating, g...</td>
<td>to_eat</td>
<td>Berlin</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
</section>
<section id="user-interface-design" class="level3">
<h3 class="anchored" data-anchor-id="user-interface-design">User Interface Design</h3>
<p>The Travel Destination Recommender system that we have constructed seems to be operational and includes different parts like city, tour, to-do, and restaurant suggestions which are derived by taking into account what the user prefers along with data analysis. But there are cases where certain topics do not have data available for some cities which could be dealt with either suggesting alternative recommendations or handling such cases gracefully.</p>
<p>The user interface and user experience could be enhanced as a potential area for improvement; to this end, we seek to make it more intuitive— in its use— and user-friendly. In addition, we may think about applying even more advanced recommendation algorithms or machine learning techniques that will allow us to work on the recommendations’ accuracy and topicality at a higher level.</p>
</section>
</section>
</section>
<section id="analysis-and-results" class="level1">
<h1>3. Analysis and Results</h1>
<section id="data-analysis-techniques-used" class="level3">
<h3 class="anchored" data-anchor-id="data-analysis-techniques-used"><strong>Data Analysis Techniques Used</strong></h3>
<p><strong>Topic Modeling</strong> The technique for uncovering hidden topics and their relationships in the travel data collection is called BERT — Bidirectional Encoder Representations from Transformers, a language model developed by Google (Devlin et al., 2019). Being a transformer-based model trained bidirectionally, BERT learns to catch words’ contextual meanings from both directions. It enables better representation of topics with more accuracy. Our process was fine-tuning the already pre-trained BERT model on the specifics of our travel dataset which included descriptions and reviews besides other textual information related to attractions, restaurants, hotels and local experiences. The use of BERT’s strong understanding capability allowed us to find such topics as ‘historical landmarks,’ ‘outdoor adventures’ or ‘culinary experiences’ easily by automatically identifying and grouping similar topics. In comparison to LDA, leveraging BERT for topic modeling had numerous advantages.</p>
<p><strong>Content-Based Filtering:</strong> In order to recommend attractions, restaurants, hotels and other travel experiences based on user preferences and interests we utilized information regarding the textual content (descriptions, reviews etc.) of these entities. This allowed us to extract relevant features and characteristics which matched what the user would be interested in. The techniques used for this purpose include text preprocessing, feature extraction (e.g., TF-IDF vectorization), and similarity calculations (e.g., cosine similarity).</p>
<p><strong>Collaborative Filtering:</strong> We also integrated user ratings and reviews on various travel journeys to find like-minded users and suggest options that others with similar preferences have liked. Some of the methods used include user-based or item-based collaborative filtering, matrix factorization, and neighborhood-based approaches.</p>
<p><strong>Data Cleaning and Preprocessing:</strong> Extensive data cleaning and preprocessing steps were undertaken to ensure the quality and consistency of our travel data. These steps included handling missing values, removing duplicates, formatting data, and applying techniques like text normalization and tokenization to prepare the data for analysis.</p>
<p>Throughout this development process, we continuously explored, tried and failed. Gained lots of experience on our way to create this engine to provide accurate, personalized and insightful travel recommendations for our users</p>
</section>
<section id="presentation-results" class="level3">
<h3 class="anchored" data-anchor-id="presentation-results"><strong>Presentation &amp; Results</strong></h3>
<p>Our system The Travel Destination Recommender is going to give you more than just a basic rundown of what to see when you’re traveling. It’s going to provide tailored recommendations across various parts of your journey— all based on what you prefer or what piques your interest. Think user-friendly: we’ll suggest cities that suit you in an easy-to-read format (maybe even rank them) or show them on an interactive map. For these recommended cities, we’re not just giving you a laundry list of places to visit without context— expect descriptions and images for those must-see attractions or local gems. Oh, and guided tours plus organized activities within your budget and desired duration are also part of the deal. Because why settle for typical tourist hotspots? We want you savoring local flavors at restaurants fit for your taste buds and dietary needs (all while considering your wallet).</p>
</section>
</section>
<section id="reflection-and-conclusion" class="level1">
<h1>4. Reflection and Conclusion</h1>
<section id="challenges-faced" class="level3">
<h3 class="anchored" data-anchor-id="challenges-faced"><strong>Challenges Faced</strong></h3>
<p>Limitations were met during the creation of the recommendation engine by the APIs that were provided by some travel websites. Unfortunately, these limitations have blocked our ability to collect well-organized and clear data, in turn hindering our efforts to develop a reliable and accurate recommendation system.</p>
<p><strong>Data Quality Issues:</strong> The information obtained from our travel website sources was found to be incomplete or not coherent. Consequently, a lot of work had to be done in order to clean and streamline the data. When developing the recommendation system, one of the major challenges that had to be contended with was ensuring data quality — which typically involves issues like missing values or lack of uniformity in how the information is presented.</p>
<p><strong>Topic Modeling Limitations:</strong> When we were performing the topic modeling, we used the BERT language model, but this approach had its limitations— mainly due to difficulties in fine-tuning and optimizing its performance for a precise classification of user interests and preferences that came along with this complex task plus insufficient amount of labeled data available for it.</p>
<p><strong>Large-Scale Data Processing:</strong> The amount of data in the project made it challenging to handle and manage efficiently, especially when processing large datasets across a variety of resources and user preferences The computational requirements associated with large -scale data processed presented a significant obstacle. Consequently, we used 4 main cities in Germany instead of all cities in Germany or Europe but the goal is to reach out as many cities as we can reach and provide good and quality recommendations.</p>
</section>
<section id="lessons-learned" class="level3">
<h3 class="anchored" data-anchor-id="lessons-learned"><strong>Lessons Learned</strong></h3>
<p>Lessons learnt from the project include several points. Standardizing data collection and processing is the first step towards developing a recommendation engine, easily done by ensuring new data sources are integrated into development. It helps in having a unified approach to all processes and therefore avoids redundant tasks that would otherwise be done multiple times for each system. Knowledge of the specific domain ensures capturing user preferences accurately based on real-world feedback which guides algorithm refinement and optimization continually through an iterative process. Growing user data volume and complexity due to scalability challenges require addressing with robust algorithms while resource constraints necessitate consideration for efficiency. The diverse skill set needed includes domain expertise (to understand user preferences), machine learning (for algorithm development), data processing (to support the large volume of user data) and optimization techniques at different stages during production deployment. Algorithmic sophistication coupled with computational efficiency towards achieving topic coherence demands fine-tuning BERT-based language models for optimization quality and domain knowledge applicability — an evolving need reflected by these insights stemming from continuous improvement highlighted as being important based on users’ changing requirements later on as well.</p>
<p>The experience gained from this project has provided valuable insights into the challenges associated with developing accurate and scalable recommendation engines. The lessons learned highlight the importance of <strong>continuously improving</strong> the underlying algorithms and models to meet the evolving needs of users effectively.</p>
</section>
<section id="overall-significance-of-findings" class="level3">
<h3 class="anchored" data-anchor-id="overall-significance-of-findings"><strong>Overall Significance of Findings:</strong></h3>
<p>As we see in the results the travel destination recommender engine evaluates a wide range of subjects and their most relevant cities, with Munich and Berlin standing out as major spots. Munich’s consistent top ranking across various topics including history tours, places of interest and nightlife underscores its rich offerings making it an attractive choice for people with diverse interests. On the other hand, although less mentioned, Berlin stands out for its historical importance and lively food culture especially noted in areas such as WWII history and vegan dining thus appealing to specific interest groups. The feature of the engine being able to spot the best tours that fit within a user’s budget, along with identifying highly rated restaurants— indicates practicality for designing personalized yet cost-effective trips. It is quite detailed in its approach which allows users to gain insight on what each city offers thereby facilitating travel plans through recommendation alignment with user preferences.</p>
</section>
<section id="future-directions" class="level3">
<h3 class="anchored" data-anchor-id="future-directions"><strong>Future Directions:</strong></h3>
<p>There are several future directions that would enhance the Travel Destination Recommender even more than it is already enhanced by the success of this project. If we expand our data sources beyond what we currently have to include more travel websites, blogs, and social media platforms, we can achieve recommendation diversity. User feedback helps us tweak algorithms for accuracy— let’s start using it. Multimedia data like images and videos can offer users visual insights into destinations; let’s make use of this information to improve their experience when using our service. With chatbots being developed into conversational interfaces on the platform, travel planning will become more intuitive for users who frequent these places often. Hybrid recommendation approaches should be considered because they can leverage multiple techniques leading to better results which in turn will provide a smoother operation — even as data along with user requests grow exponentially each day — scalability and performance must not be compromised but rather enhanced further. And lastly, we can add sustainability and ethical considerations so that our promotion of tourism will also be seen as promoting responsible tourism by those who use our recommendations.</p>
</section>
</section>
<section id="references" class="level1">
<h1>5. References</h1>
<section id="websites-and-tools" class="level3">
<h3 class="anchored" data-anchor-id="websites-and-tools">Websites and Tools:</h3>
<ul>
<li>Tripadvisor. (n.d.). Retrieved from <a href="https://www.tripadvisor.com/">https://www.tripadvisor.com/</a></li>
<li>Lonely Planet. (n.d.). Retrieved from <a href="https://www.lonelyplanet.com/">https://www.lonelyplanet.com/</a></li>
<li>Yelp. (n.d.). Retrieved from <a href="https://www.yelp.com/">https://www.yelp.com/</a></li>
<li>Booking.com. (n.d.). Retrieved from <a href="https://www.booking.com/">https://www.booking.com/</a></li>
<li>Instant Data Scraper. (n.d.). Retrieved from <a href="https://chrome.google.com/webstore/detail/instant-data-scraper/nmpgaoofmjlimabncmnmnopjabbflegg?hl=en">https://chrome.google.com/webstore/detail/instant-data-scraper/nmpgaoofmjlimabncmnmnopjabbflegg?hl=en</a></li>
<li>Octoparse. (n.d.). Retrieved from <a href="https://www.octoparse.com/">https://www.octoparse.com/</a></li>
</ul>
</section>
<section id="articles-and-papers-on-web-scraping-and-recommender-systems" class="level3">
<h3 class="anchored" data-anchor-id="articles-and-papers-on-web-scraping-and-recommender-systems">Articles and Papers on Web Scraping and Recommender Systems:</h3>
<ul>
<li><p>Gedikli, F., Jannach, D., &amp; Ge, M. (2014). How should I explain? A comparison of different explanation types for recommender systems. <em>International Journal of Human-Computer Studies, 72(4)</em>, 367-382. <a href="https://doi.org/10.1016/j.ijhcs.2013.12.007">https://doi.org/10.1016/j.ijhcs.2013.12.007</a></p></li>
<li><p>Silva, N. B., &amp; Ribeiro, R. P. (2020). Transfer learning for recommender systems: A systematic review. <em>Expert Systems with Applications, 129</em>, 254-273. <a href="https://doi.org/10.1016/j.eswa.2019.03.061">https://doi.org/10.1016/j.eswa.2019.03.061</a></p></li>
<li><p>Nyamsuren, B., &amp; Kurniawan, K. N. (2020). Review of sentiment analysis: Case study of TripAdvisor and Yelp. <em>Journal of Information Technology and Digital World, 2(1)</em>, 1-12. <a href="https://doi.org/10.36548/jitdw.2020.1.003">https://doi.org/10.36548/jitdw.2020.1.003</a> -Devlin, J., Chang, M.-W., Lee, K., &amp; Toutanova, K. (2019). BERT: Pre-training of deep bidirectional transformers for language understanding. Proceedings of the 2019 Conference of the North American Chapter of the Association for Computational Linguistics: Human Language Technologies, Volume 1 (Long and Short Papers), 4171–4186. https://doi.org/10.18653/v1/N19-1423 ### Books:</p></li>
<li><p>Russell, M. A. (2019). <em>Mining the Social Web: Data Mining Facebook, Twitter, LinkedIn, Instagram, GitHub, and More</em>. O’Reilly Media.</p></li>
<li><p>Aggarwal, C. C. (2016). <em>Recommender Systems: The Textbook</em>. Springer.</p></li>
</ul>
</section>
<section id="datasets" class="level3">
<h3 class="anchored" data-anchor-id="datasets">Datasets:</h3>
<ul>
<li>Tripadvisor Data. (n.d.). Retrieved from <a href="https://www.tripadvisor.com/Data">https://www.tripadvisor.com/Data</a></li>
<li>Yelp Dataset. (n.d.). Retrieved from <a href="https://www.yelp.com/dataset">https://www.yelp.com/dataset</a></li>
</ul>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>